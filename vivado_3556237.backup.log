#-----------------------------------------------------------
# Vivado v2022.2 (64-bit)
# SW Build 3671981 on Fri Oct 14 04:59:54 MDT 2022
# IP Build 3669848 on Fri Oct 14 08:30:02 MDT 2022
# Start of session at: Fri Nov 14 02:28:40 2025
# Process ID: 3556237
# Current directory: /home/khyang/harvard/cs1410_lab
# Command line: vivado .
# Log file: /home/khyang/harvard/cs1410_lab/vivado.log
# Journal file: /home/khyang/harvard/cs1410_lab/vivado.jou
# Running On: sec-academic-1.int.seas.harvard.edu, OS: Linux, CPU Frequency: 1199.977 MHz, CPU Physical cores: 27, Host memory: 539830 MB
#-----------------------------------------------------------
start_gui
WARNING: [Board 49-26] cannot add Board Part xilinx.com:vek280_es:part0:1.0 available at /software/xilinx-tools-2022/Vivado/2022.2/data/xhub/boards/XilinxBoardStore/boards/Xilinx/vek280/es/1.0/board.xml as part xcve2802-vsvh1760-2lp-e-s-es1 specified in board_part file is either invalid or not available
WARNING: [Board 49-26] cannot add Board Part xilinx.com:vhk158_es:part0:1.0 available at /software/xilinx-tools-2022/Vivado/2022.2/data/xhub/boards/XilinxBoardStore/boards/Xilinx/vhk158/es/1.0/board.xml as part xcvh1582-vsva3697-2mp-e-s-es1 specified in board_part file is either invalid or not available
WARNING: [Board 49-26] cannot add Board Part xilinx.com:vpk120_es:part0:1.2 available at /software/xilinx-tools-2022/Vivado/2022.2/data/xhub/boards/XilinxBoardStore/boards/Xilinx/vpk120/es/1.2/board.xml as part xcvp1202-vsva2785-2mp-e-s-es1 specified in board_part file is either invalid or not available
WARNING: [Board 49-26] cannot add Board Part xilinx.com:vpk120_es_revb:part0:1.0 available at /software/xilinx-tools-2022/Vivado/2022.2/data/xhub/boards/XilinxBoardStore/boards/Xilinx/vpk120_revb/es/1.0/board.xml as part xcvp1202-vsva2785-2mp-e-s-es1 specified in board_part file is either invalid or not available
WARNING: [Board 49-26] cannot add Board Part xilinx.com:vpk180_es:part0:1.0 available at /software/xilinx-tools-2022/Vivado/2022.2/data/xhub/boards/XilinxBoardStore/boards/Xilinx/vpk180/es/1.0/board.xml as part xcvp1802-lsvc4072-2mp-e-s-es1 specified in board_part file is either invalid or not available
WARNING: [Board 49-26] cannot add Board Part xilinx.com:zcu208ld:part0:2.0 available at /software/xilinx-tools-2022/Vivado/2022.2/data/xhub/boards/XilinxBoardStore/boards/Xilinx/zcu208ld/production/2.0/board.xml as part xczu58dr-fsvg1517-2-i specified in board_part file is either invalid or not available
WARNING: [Board 49-26] cannot add Board Part xilinx.com:zcu216ld:part0:2.0 available at /software/xilinx-tools-2022/Vivado/2022.2/data/xhub/boards/XilinxBoardStore/boards/Xilinx/zcu216ld/production/2.0/board.xml as part xczu59dr-ffvf1760-2-i specified in board_part file is either invalid or not available
WARNING: [Board 49-26] cannot add Board Part xilinx.com:zcu670:part0:2.0 available at /software/xilinx-tools-2022/Vivado/2022.2/data/xhub/boards/XilinxBoardStore/boards/Xilinx/zcu670/2.0/board.xml as part xczu67dr-fsve1156-2-i specified in board_part file is either invalid or not available
WARNING: [Board 49-26] cannot add Board Part xilinx.com:zcu670ld:part0:1.0 available at /software/xilinx-tools-2022/Vivado/2022.2/data/xhub/boards/XilinxBoardStore/boards/Xilinx/zcu670ld/1.0/board.xml as part xczu57dr-fsve1156-2-i specified in board_part file is either invalid or not available
open_project /home/khyang/harvard/cs1410_lab/lab4_updated/lab4_server/project_1.xpr
WARNING: [filemgmt 56-3] IP Repository Path: Could not find the directory '/home/khyang/harvard/cs1410_lab/lab4_updated/lab4_server/project_1.ip_user_files'.
INFO: [filemgmt 56-3] Default IP Output Path : Could not find the directory '/home/khyang/harvard/cs1410_lab/lab4_updated/lab4_server/project_1.gen/sources_1'.
WARNING: [filemgmt 56-3] IPUserFilesDir: Could not find the directory '/home/khyang/harvard/cs1410_lab/lab4_updated/lab4_server/project_1.ip_user_files'.
WARNING: [Project 1-865] Could not find the file /home/khyang/harvard/cs1410_lab/lab4_updated/lab4_server/project_1.gen/sources_1/ip/blk_mem_gen_1/blk_mem_gen_1.dcp
CRITICAL WARNING: [Project 1-19] Could not find the file '/home/khyang/harvard/cs1410_lab/lab4_updated/lab4_server/project_1.sim/sim_1/behav/xsim/glbl.v'.
CRITICAL WARNING: [Project 1-19] Could not find the file '/home/khyang/lab4_STAFF/lab4/lab4_server/source/cpu.sv'.
CRITICAL WARNING: [Project 1-19] Could not find the file '/home/khyang/harvard/cs1410_lab/lab4_updated/lab4_server/project_1.ip_user_files/ip/blk_mem_gen_1/blk_mem_gen_1_stub.v'.
CRITICAL WARNING: [Project 1-19] Could not find the file '/home/khyang/harvard/cs1410_lab/lab4_updated/lab4_server/source/STAFF_mux3.sv'.
CRITICAL WARNING: [Project 1-19] Could not find the file '/home/khyang/harvard/cs1410_lab/lab4_updated/lab4_server/source/STAFF_mux6.sv'.
CRITICAL WARNING: [Project 1-19] Could not find the file '/home/khyang/harvard/cs1410_lab/lab4_updated/lab4_server/source/STAFF_cpu.sv'.
CRITICAL WARNING: [Project 1-19] Could not find the file '/home/khyang/harvard/cs1410_lab/lab4_updated/lab4_server/source/STAFF_cpu_top.sv'.
CRITICAL WARNING: [Project 1-19] Could not find the file '/home/khyang/harvard/cs1410_lab/lab4_updated/lab4_server/source/STAFF_aludec.sv'.
CRITICAL WARNING: [Project 1-19] Could not find the file '/home/khyang/harvard/cs1410_lab/lab4_updated/lab4_server/source/STAFF_controller.sv'.
CRITICAL WARNING: [Project 1-19] Could not find the file '/home/khyang/harvard/cs1410_lab/lab4_updated/lab4_server/source/STAFF_fsm.sv'.
CRITICAL WARNING: [Project 1-19] Could not find the file '/home/khyang/harvard/cs1410_lab/lab4_updated/lab4_server/source/STAFF_mux2.sv'.
CRITICAL WARNING: [Project 1-19] Could not find the file '/home/khyang/harvard/cs1410_lab/lab4_updated/lab4_server/source/STAFF_zeroext.sv'.
CRITICAL WARNING: [Project 1-19] Could not find the file '/home/khyang/harvard/cs1410_lab/lab4_updated/lab4_server/source/STAFF_datapath.sv'.
CRITICAL WARNING: [Project 1-19] Could not find the file '/home/khyang/harvard/cs1410_lab/lab4_updated/lab4_server/source/STAFF_sl2.sv'.
CRITICAL WARNING: [Project 1-19] Could not find the file '/home/khyang/harvard/cs1410_lab/lab4_updated/lab4_server/source/STAFF_signext.sv'.
CRITICAL WARNING: [Project 1-19] Could not find the file '/home/khyang/harvard/cs1410_lab/lab4_updated/lab4_server/source/STAFF_rw_ram.sv'.
CRITICAL WARNING: [Project 1-19] Could not find the file '/home/khyang/harvard/cs1410_lab/lab4_updated/lab4_server/project_1.srcs/utils_1/imports/synth_1/cpu_top.dcp'.
WARNING: [Project 1-865] Could not find the file /home/khyang/harvard/cs1410_lab/lab4_updated/lab4_server/project_1.srcs/utils_1/imports/synth_1/cpu_top.dcp
CRITICAL WARNING: [Project 1-19] Could not find the file '/home/khyang/harvard/cs1410_lab/lab4_updated/lab4_server/project_1.srcs/sources_1/ip/blk_mem_gen_0_2/blk_mem_gen_0.xci'.
Scanning sources...
Finished scanning sources
WARNING: [Project 1-865] Could not find the file /home/khyang/harvard/cs1410_lab/lab4_updated/lab4_server/project_1.gen/sources_1/ip/blk_mem_gen_1/blk_mem_gen_1.dcp
WARNING: [Project 1-865] Could not find the file /home/khyang/harvard/cs1410_lab/lab4_updated/lab4_server/project_1.srcs/utils_1/imports/synth_1/cpu_top.dcp
ERROR: [IP_Flow 19-993] Could not find IP file for IP 'blk_mem_gen_0'.
INFO: [IP_Flow 19-234] Refreshing IP repositories
INFO: [IP_Flow 19-1700] Loaded user IP repository '/home/khyang/harvard/cs1410_lab/lab4_updated/lab4_server/project_1.srcs'.
WARNING: [IP_Flow 19-2248] Failed to load user IP repository '/home/khyang/harvard/cs1410_lab/lab4_updated/lab4_server/project_1.ip_user_files'; Can't find the specified path.
If this directory should no longer be in your list of user repositories, go to the IP Settings dialog and remove it.
INFO: [IP_Flow 19-2313] Loaded Vivado IP repository '/software/xilinx-tools-2022/Vivado/2022.2/data/ip'.
CRITICAL WARNING: [IP_Flow 19-3933] Unable to construct an IP Instance blk_mem_gen_0 using VLNV :::.
ERROR: [Common 17-39] 'open_project' failed due to earlier errors.
update_compile_order -fileset sources_1
source create_blk_mem_gen_0.tcl
couldn't read file "create_blk_mem_gen_0.tcl": no such file or directory
create_ip -name blk_mem_gen -vendor xilinx.com -library ip -version 8.4 -module_name blk_mem_gen_0
/home/khyang/harvard/cs1410_lab/lab4_updated/lab4_server/project_1.srcs/sources_1/ip/blk_mem_gen_0/blk_mem_gen_0.xci
update_compile_order -fileset sources_1
export_ip_user_files -of_objects  [get_files /home/khyang/harvard/cs1410_lab/lab4_updated/lab4_server/project_1.srcs/sources_1/ip/blk_mem_gen_0_2/blk_mem_gen_0.xci] -no_script -reset -force -quiet
remove_files  -fileset blk_mem_gen_0 /home/khyang/harvard/cs1410_lab/lab4_updated/lab4_server/project_1.srcs/sources_1/ip/blk_mem_gen_0_2/blk_mem_gen_0.xci
INFO: [Project 1-386] Moving file '/home/khyang/harvard/cs1410_lab/lab4_updated/lab4_server/project_1.srcs/sources_1/ip/blk_mem_gen_0_2/blk_mem_gen_0.xci' from fileset 'blk_mem_gen_0' to fileset 'sources_1'.
reset_run synth_1
launch_runs synth_1 -jobs 96
INFO: [IP_Flow 19-1686] Generating 'Synthesis' target for IP 'blk_mem_gen_0'...
INFO: [IP_Flow 19-6924] IPCACHE: Running cache check for IP inst: blk_mem_gen_0
WARNING: [Vivado 12-7122] Auto Incremental Compile:: No reference checkpoint was found in run synth_1. Auto-incremental flow will not be run, the standard flow will be run instead.
[Fri Nov 14 02:32:56 2025] Launched blk_mem_gen_0_synth_1...
Run output will be captured here: /home/khyang/harvard/cs1410_lab/lab4_updated/lab4_server/project_1.runs/blk_mem_gen_0_synth_1/runme.log
[Fri Nov 14 02:32:56 2025] Launched synth_1...
Run output will be captured here: /home/khyang/harvard/cs1410_lab/lab4_updated/lab4_server/project_1.runs/synth_1/runme.log
read_ip [get_files project_1.srcs/sources_1/ip/blk_mem_gen_0/blk_mem_gen_0.xci]
WARNING: [Vivado 12-818] No files matched 'project_1.srcs/sources_1/ip/blk_mem_gen_0/blk_mem_gen_0.xci'
ERROR: [Common 17-69] Command failed: At least one file must be specified to read_ip
source ./lab4_updated/lab4_server/fix_blk_mem_gen_0.tcl
WARNING: [Vivado 12-818] No files matched 'project_1.srcs/sources_1/ip/blk_mem_gen_0/blk_mem_gen_0.xci'
# read_ip [get_files project_1.srcs/sources_1/ip/blk_mem_gen_0/blk_mem_gen_0.xci]
ERROR: [Common 17-69] Command failed: At least one file must be specified to read_ip
source ./lab4_updated/lab4_server/fix_blk_mem_gen_0.tcl
# set ip_inst [get_ips -quiet blk_mem_gen_0]
# if {[llength $ip_inst] == 0} {
#     # IP not loaded, try to find and read the file
#     set ip_files [get_files -quiet *blk_mem_gen_0.xci]
#     if {[llength $ip_files] > 0} {
#         set ip_file [lindex $ip_files 0]
#         puts "Reading IP file: $ip_file"
#         read_ip $ip_file
#     } else {
#         # Try constructing path from project directory
#         set proj_dir [get_property DIRECTORY [current_project]]
#         set ip_file "$proj_dir/project_1.srcs/sources_1/ip/blk_mem_gen_0/blk_mem_gen_0.xci"
#         if {[file exists $ip_file]} {
#             puts "Reading IP file: $ip_file"
#             read_ip $ip_file
#         } else {
#             puts "ERROR: Could not find blk_mem_gen_0.xci"
#             puts "Tried: $ip_file"
#             return
#         }
#     }
# } else {
#     puts "IP blk_mem_gen_0 is already loaded"
# }
IP blk_mem_gen_0 is already loaded
# set_property -dict [list \
#     CONFIG.Memory_Type {True_Dual_Port_RAM} \
#     CONFIG.Write_Width_A {32} \
#     CONFIG.Write_Depth_A {2048} \
#     CONFIG.Read_Width_A {32} \
#     CONFIG.Write_Width_B {32} \
#     CONFIG.Write_Depth_B {2048} \
#     CONFIG.Read_Width_B {32} \
#     CONFIG.Enable_A {Always_Enabled} \
#     CONFIG.Enable_B {Always_Enabled} \
#     CONFIG.Register_PortA_Output_of_Memory_Primitives {false} \
#     CONFIG.Register_PortB_Output_of_Memory_Primitives {false} \
#     CONFIG.Use_Byte_Write_Enable {false} \
# ] [get_ips blk_mem_gen_0]
ERROR: [Vivado 12-4371] Cannot find parameter 'Write_Depth_B' on IP 'blk_mem_gen_0'.
ERROR: [Vivado 12-1342] Failed to set property 'CONFIG.Write_Depth_B' on IP 'blk_mem_gen_0'.
INFO: [Common 17-17] undo 'set_property'
ERROR: [Common 17-39] 'set_property' failed due to earlier errors.

    while executing
"rdi::add_properties -dict {CONFIG.Memory_Type True_Dual_Port_RAM CONFIG.Write_Width_A 32 CONFIG.Write_Depth_A 2048 CONFIG.Read_Width_A 32 CONFIG.Write..."
    invoked from within
"set_property -dict [list \
    CONFIG.Memory_Type {True_Dual_Port_RAM} \
    CONFIG.Write_Width_A {32} \
    CONFIG.Write_Depth_A {2048} \
    CONFIG...."
    (file "./lab4_updated/lab4_server/fix_blk_mem_gen_0.tcl" line 34)
source ./lab4_updated/lab4_server/create_blk_mem_gen_0.tcl
# if {[llength [get_ips -quiet blk_mem_gen_0]] > 0} {
#     puts "Removing existing blk_mem_gen_0 IP..."
#     remove_files [get_files -quiet {*/blk_mem_gen_0.xci}]
#     delete_ip_run [get_ip_runs -quiet blk_mem_gen_0_synth_1]
# }
Removing existing blk_mem_gen_0 IP...
INFO: [Project 1-386] Moving file '/home/khyang/harvard/cs1410_lab/lab4_updated/lab4_server/project_1.srcs/sources_1/ip/blk_mem_gen_0/blk_mem_gen_0.xci' from fileset 'blk_mem_gen_0' to fileset 'sources_1'.
invalid command name "get_ip_runs"
    while executing
"get_ip_runs -quiet blk_mem_gen_0_synth_1"
    invoked from within
"if {[llength [get_ips -quiet blk_mem_gen_0]] > 0} {
    puts "Removing existing blk_mem_gen_0 IP..."
    remove_files [get_files -quiet {*/blk_mem_gen..."
    (file "./lab4_updated/lab4_server/create_blk_mem_gen_0.tcl" line 5)
source ./lab4_updated/lab4_server/create_blk_mem_gen_0.tcl
# set existing_ip_files [get_files -quiet {*/blk_mem_gen_0.xci}]
# if {[llength $existing_ip_files] > 0} {
#     puts "Removing existing blk_mem_gen_0 IP..."
#     remove_files $existing_ip_files
# }
# puts "Creating new blk_mem_gen_0 IP..."
Creating new blk_mem_gen_0 IP...
# create_ip -name blk_mem_gen -vendor xilinx.com -library ip -version 8.4 -module_name blk_mem_gen_0
# set_property -dict [list \
#     CONFIG.Memory_Type {True_Dual_Port_RAM} \
#     CONFIG.Write_Width_A {32} \
#     CONFIG.Write_Depth_A {2048} \
#     CONFIG.Read_Width_A {32} \
#     CONFIG.Write_Width_B {32} \
#     CONFIG.Read_Width_B {32} \
#     CONFIG.Enable_A {Always_Enabled} \
#     CONFIG.Enable_B {Always_Enabled} \
#     CONFIG.Register_PortA_Output_of_Memory_Primitives {false} \
#     CONFIG.Register_PortB_Output_of_Memory_Primitives {false} \
#     CONFIG.Use_Byte_Write_Enable {false} \
#     CONFIG.Operating_Mode_A {WRITE_FIRST} \
#     CONFIG.Operating_Mode_B {WRITE_FIRST} \
# ] [get_ips blk_mem_gen_0]
# puts "Generating IP outputs..."
Generating IP outputs...
# generate_target {all} [get_ips blk_mem_gen_0]
INFO: [IP_Flow 19-1686] Generating 'Instantiation Template' target for IP 'blk_mem_gen_0'...
INFO: [IP_Flow 19-1686] Generating 'Synthesis' target for IP 'blk_mem_gen_0'...
INFO: [IP_Flow 19-1686] Generating 'Simulation' target for IP 'blk_mem_gen_0'...
INFO: [IP_Flow 19-1686] Generating 'Miscellaneous' target for IP 'blk_mem_gen_0'...
INFO: [IP_Flow 19-1686] Generating 'Change Log' target for IP 'blk_mem_gen_0'...
# puts "blk_mem_gen_0 IP created and configured successfully!"
blk_mem_gen_0 IP created and configured successfully!
# puts "Memory configuration: True Dual Port RAM, 32-bit x 2048 words"
Memory configuration: True Dual Port RAM, 32-bit x 2048 words
update_compile_order -fileset sources_1
source ./lab4_updated/lab4_server/configure_blk_mem_gen_0.tcl
# puts "Configuring blk_mem_gen_0 IP in project..."
Configuring blk_mem_gen_0 IP in project...
# set ip_inst [get_ips -quiet blk_mem_gen_0]
# if {[llength $ip_inst] == 0} {
#     puts "ERROR: blk_mem_gen_0 IP not found. Please run create_blk_mem_gen_0.tcl first."
#     return
# }
# puts "Found blk_mem_gen_0 IP instance"
Found blk_mem_gen_0 IP instance
# set mem_type [get_property CONFIG.Memory_Type [get_ips blk_mem_gen_0]]
# set width_a [get_property CONFIG.Write_Width_A [get_ips blk_mem_gen_0]]
# set depth_a [get_property CONFIG.Write_Depth_A [get_ips blk_mem_gen_0]]
# set width_b [get_property CONFIG.Write_Width_B [get_ips blk_mem_gen_0]]
# puts "Current configuration:"
Current configuration:
# puts "  Memory Type: $mem_type"
  Memory Type: True_Dual_Port_RAM
# puts "  Write Width A: $width_a"
  Write Width A: 32
# puts "  Write Depth A: $depth_a"
  Write Depth A: 2048
# puts "  Write Width B: $width_b"
  Write Width B: 32
# if {$mem_type != "True_Dual_Port_RAM" || $width_a != "32" || $depth_a != "2048" || $width_b != "32"} {
#     puts "WARNING: IP configuration does not match requirements!"
#     puts "Expected: True_Dual_Port_RAM, 32-bit, 2048 words"
#     puts "Please run create_blk_mem_gen_0.tcl to recreate the IP with correct settings."
# } else {
#     puts "IP configuration is correct!"
# }
IP configuration is correct!
# set ip_files [get_files -quiet {*/blk_mem_gen_0.xci}]
# if {[llength $ip_files] > 0} {
#     puts "IP file found in project: [lindex $ip_files 0]"
#     
#     # Check which fileset it's in
#     set fileset [get_property FILESET_TYPE [get_files [lindex $ip_files 0]]]
#     puts "IP is in fileset: $fileset"
#     
#     # Ensure it's used in synthesis and implementation
#     set_property USED_IN {synthesis implementation simulation} [get_files [lindex $ip_files 0]]
#     puts "IP usage flags updated"
# } else {
#     puts "WARNING: IP file not found in project files"
# }
IP file found in project: /home/khyang/harvard/cs1410_lab/lab4_updated/lab4_server/project_1.srcs/sources_1/ip/blk_mem_gen_0_1/blk_mem_gen_0.xci
ERROR: [Common 17-54] The object 'file' does not have a property 'FILESET_TYPE'.
exit
INFO: [Common 17-206] Exiting Vivado at Fri Nov 14 02:42:40 2025...
